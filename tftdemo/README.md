# STM32F103C8 Black Pill TFT LCD Demo

A comprehensive TFT LCD demo for the STM32F103C8 Black Pill board with ILI9325C controller support. The code is modified from the deliverables generated by **claude-sonnet-4-20250514** model. This project provides a full-featured graphics library with line drawing capabilities, text rendering, and geometric shape functions.

## Features

- 🎨 **Full Graphics Library** - Complete drawing primitives (pixels, lines, rectangles)
- 📝 **Text Rendering** - Complete 8x8 ASCII font (96 characters)
- 🎯 **Parallel Interface** - 8-bit parallel communication with ILI9325C
- 🌈 **Color Support** - RGB565 format with predefined color constants
- ⚡ **Optimized Performance** - Direct GPIO register manipulation for speed
- 📊 **Demo Animations** - Multiple interactive demonstrations
- 🔧 **Modular Design** - Separate driver files for easy integration

## Hardware Requirements

### Components
- STM32F103C8 Black Pill development board
- ILI9325C-based TFT LCD 240x320 display
- Jumper wires and breadboard
- 3.3V power supply

### Pin Configuration

| Function | STM32 Pin | LCD Pin | Description |
|----------|-----------|---------|-------------|
| **Control Pins** |
| CS | PB0 | CS | Chip Select |
| RS/DC | PB1 | RS/DC | Register Select/Data Command |
| WR | PB10 | WR | Write Enable |
| RD | PB11 | RD | Read Enable (*optional*) |
| RST | PB13 | RST | Reset |
| **Data Bus (8-bit)** |
| D0-D7 | PA0-PA7 | DB0-DB7 | Parallel Data Bus |
| **Power** |
| VCC | 3.3V | VCC | Power Supply |
| GND | GND | GND | Ground |

## Wiring Diagram

```
STM32F103C8 Black Pill          ILI9325C TFT LCD
┌─────────────────────────┐    ┌─────────────────────────┐
│                         │    │                         │
│ PB0  ───────────────────┼────┤ CS                      │
│ PB1  ───────────────────┼────┤ RS/DC                   │
│ PB10 ───────────────────┼────┤ WR                      │
│ PB11 ───────────────────┼────┤ RD                      │
│ PB13 ───────────────────┼────┤ RST                     │
│                         │    │                         │
│ PA0  ───────────────────┼────┤ DB0                     │
│ PA1  ───────────────────┼────┤ DB1                     │
│ PA2  ───────────────────┼────┤ DB2                     │
│ PA3  ───────────────────┼────┤ DB3                     │
│ PA4  ───────────────────┼────┤ DB4                     │
│ PA5  ───────────────────┼────┤ DB5                     │
│ PA6  ───────────────────┼────┤ DB6                     │
│ PA7  ───────────────────┼────┤ DB7                     │
│                         │    │                         │
│ 3.3V ───────────────────┼────┤ VCC                     │
│ GND  ───────────────────┼────┤ GND                     │
└─────────────────────────┘    └─────────────────────────┘
```

## API Reference

### Core Functions

#### Display Control
```c
void ILI9325C_Init(void);                    // Initialize the display
void ILI9325C_Clear(uint16_t color);         // Clear screen with color
```

#### Drawing Primitives
```c
void ILI9325C_DrawPixel(uint16_t x, uint16_t y, uint16_t color);
void ILI9325C_DrawLine(uint16_t x1, uint16_t y1, uint16_t x2, uint16_t y2, uint16_t color);
void ILI9325C_DrawRect(uint16_t x, uint16_t y, uint16_t width, uint16_t height, uint16_t color);
void ILI9325C_FillRect(uint16_t x, uint16_t y, uint16_t width, uint16_t height, uint16_t color);
```

#### Text Rendering
```c
void ILI9325C_DrawChar(uint16_t x, uint16_t y, char ch, uint16_t color, uint16_t bgcolor);
void ILI9325C_DrawString(uint16_t x, uint16_t y, char* str, uint16_t color, uint16_t bgcolor);
```

### Predefined Colors (RGB565)
```c
#define COLOR_BLACK     0x0000    #define COLOR_WHITE     0xFFFF
#define COLOR_RED       0xF800    #define COLOR_GREEN     0x07E0
#define COLOR_BLUE      0x001F    #define COLOR_YELLOW    0xFFE0
#define COLOR_CYAN      0x07FF    #define COLOR_MAGENTA   0xF81F
#define COLOR_GRAY      0x7BEF    #define COLOR_ORANGE    0xFD20
```

## Demos

The main application includes several demonstration modes:

### 1. Basic Lines
- Horizontal, vertical, and diagonal line patterns
- Color-coded line drawing sequences

### 2. Geometric Patterns
- Radial lines emanating from center point
- Grid overlay patterns
- Nested rectangle animations

### 3. Random Graphics
- Randomly colored line generation
- Dynamic pattern creation

### 4. Mathematical Visualization
- Animated sine wave plotting
- Real-time curve rendering

### 5. Text Display
- Font rendering demonstration
- Mixed text and graphics

## Font System

### Complete ASCII Support
The driver includes a full 8x8 bitmap font supporting:
- **Numbers**: 0-9
- **Uppercase**: A-Z
- **Lowercase**: a-z  
- **Symbols**: ! @ # $ % ^ & * ( ) - + = [ ] { } | \ : ; " ' < > ? , . / ~ `

### Font Specifications
- **Size**: 8×8 pixels per character
- **Format**: Monospaced bitmap
- **Encoding**: ASCII 32-127 (96 printable characters)
- **Storage**: Optimized byte arrays in program memory

## Performance Specifications

### Display Specifications
- **Resolution**: 240×320 pixels
- **Color Depth**: 16-bit RGB565 (65,536 colors)
- **Interface**: 8-bit parallel
- **Controller**: ILI9325C compatible

### System Performance
- **MCU Clock**: 72MHz (PLL from 8MHz HSE)
- **GPIO Speed**: High-speed mode for data bus
- **Drawing Speed**: ~1000 pixels/second (approximate)
- **Memory Usage**: ~2KB RAM, ~8KB Flash (excluding HAL)

## Troubleshooting

### Common Issues

#### Display Not Working
- ✅ Verify all pin connections
- ✅ Check 3.3V power supply stability
- ✅ Ensure proper ground connections
- ✅ Confirm ILI9325C controller compatibility

#### Garbled Display
- ✅ Check data bus wiring (PA0-PA7 to DB0-DB7)
- ✅ Verify control signal connections
- ✅ Test with slower GPIO speeds

#### No Text Display
- ✅ Ensure font array is properly included
- ✅ Check color contrast (foreground vs background)
- ✅ Verify character ASCII range (32-127)

#### Compilation Errors
- ✅ Enable required HAL modules
- ✅ Check include paths
- ✅ Verify STM32F1xx device selection

## Resources & References

### Documentation
- [STM32F103C8 Reference Manual](https://www.st.com/resource/en/reference_manual/rm0008-stm32f101xx-stm32f102xx-stm32f103xx-stm32f105xx-and-stm32f107xx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf)
- [ILI9325C Datasheet](https://www.displayfuture.com/Display/datasheet/controller/ILI9325.pdf)
- [STM32 HAL Documentation](https://www.st.com/resource/en/user_manual/um1850-description-of-stm32f1-hal-and-lowlayer-drivers-stmicroelectronics.pdf)

---

**Created with ❤️ for the STM32 community**
